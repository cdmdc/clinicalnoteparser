2025-11-18 14:55:21 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 14:55:21 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 14:55:21 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 14:55:21 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 14:55:21 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=True, no_evaluation=False
2025-11-18 14:55:21 - app.pipeline - INFO - [STEP 1] Ingesting document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 14:55:21 - app.ingestion - INFO - Loading PDF: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 14:55:21 - app.ingestion - INFO - Ingested document: 2922 characters, 1 pages, note_id: 2
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ Ingested: 2922 chars, 1 pages, note_id: 2
2025-11-18 14:55:21 - app.pipeline - INFO - Saved canonical text to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 14:55:21 - app.pipeline - INFO - [STEP 2/5] Detecting sections...
2025-11-18 14:55:21 - app.sections - INFO - Overview section detected: end=183, title=Overview
2025-11-18 14:55:21 - app.sections - INFO - Found 11 section headers (after empty lines, all-caps): ['CHIEF COMPLAINT', 'PAST MEDICAL HISTORY', 'IMMUNIZATIONS', 'ALLERGIES', 'MEDICATIONS', 'PAST SURGICAL HISTORY', 'SOCIAL HISTORY', 'FAMILY HISTORY', 'REVIEW OF SYSTEMS', 'PHYSICAL EXAMINATION', 'MEDICAL DECISION MAKING']
2025-11-18 14:55:21 - app.sections - INFO - Found 11 potential section headers
2025-11-18 14:55:21 - app.sections - INFO - Detected 12 sections: ['Overview', 'CHIEF COMPLAINT', 'PAST MEDICAL HISTORY', 'IMMUNIZATIONS', 'ALLERGIES', 'MEDICATIONS', 'PAST SURGICAL HISTORY', 'SOCIAL HISTORY', 'FAMILY HISTORY', 'REVIEW OF SYSTEMS', 'PHYSICAL EXAMINATION', 'MEDICAL DECISION MAKING']
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ Detected 12 sections
2025-11-18 14:55:21 - app.pipeline - INFO -   1. Overview (pages 1-1, chars 0-183)
2025-11-18 14:55:21 - app.pipeline - INFO -   2. CHIEF COMPLAINT (pages 1-1, chars 183-789)
2025-11-18 14:55:21 - app.pipeline - INFO -   3. PAST MEDICAL HISTORY (pages 1-1, chars 789-903)
2025-11-18 14:55:21 - app.pipeline - INFO -   4. IMMUNIZATIONS (pages 1-1, chars 903-931)
2025-11-18 14:55:21 - app.pipeline - INFO -   5. ALLERGIES (pages 1-1, chars 931-951)
2025-11-18 14:55:21 - app.pipeline - INFO -   6. MEDICATIONS (pages 1-1, chars 951-1036)
2025-11-18 14:55:21 - app.pipeline - INFO -   7. PAST SURGICAL HISTORY (pages 1-1, chars 1036-1068)
2025-11-18 14:55:21 - app.pipeline - INFO -   8. SOCIAL HISTORY (pages 1-1, chars 1068-1168)
2025-11-18 14:55:21 - app.pipeline - INFO -   9. FAMILY HISTORY (pages 1-1, chars 1168-1205)
2025-11-18 14:55:21 - app.pipeline - INFO -   10. REVIEW OF SYSTEMS (pages 1-1, chars 1205-1287)
2025-11-18 14:55:21 - app.pipeline - INFO -   11. PHYSICAL EXAMINATION (pages 1-1, chars 1287-2192)
2025-11-18 14:55:21 - app.pipeline - INFO -   12. MEDICAL DECISION MAKING (pages 1-1, chars 2192-2922)
2025-11-18 14:55:21 - app.sections - INFO - Saved ToC to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json with 12 sections
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ Saved ToC to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 14:55:21 - app.pipeline - INFO - [STEP 3/5] Creating chunks...
2025-11-18 14:55:21 - app.chunks - INFO - Created 12 chunks from 12 sections
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ Created 12 chunks
2025-11-18 14:55:21 - app.chunks - INFO - Saved 12 chunks to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ Saved chunks to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 14:55:21 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 14:55:21 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 14:55:21 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 14:55:21 - app.pipeline - INFO - [STEP 4/5] Generating summary...
2025-11-18 14:55:21 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 14:55:21 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 14:55:26 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 14:55:44 - app.summarizer - INFO - LLM call succeeded (attempt 1, 23.31s)
2025-11-18 14:55:44 - app.pipeline - INFO - ✓ Generated summary (2077 characters)
2025-11-18 14:55:44 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 4 assessment items
2025-11-18 14:55:44 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 14:55:44 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 14:55:44 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 14:55:44 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 14:55:44 - app.pipeline - INFO - [STEP 5/5] Generating treatment plan...
2025-11-18 14:55:44 - app.pipeline - INFO -   Using text summary (2077 characters)...
2025-11-18 14:55:44 - app.planner - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 14:55:48 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 14:55:58 - app.planner - INFO - LLM call succeeded (attempt 1, 14.11s)
2025-11-18 14:55:58 - app.pipeline - INFO - ✓ Generated plan (1602 characters)
2025-11-18 14:55:58 - app.planner - INFO - Saved treatment plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 14:55:58 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 14:55:58 - app.pipeline - INFO - 
✓ Pipeline completed successfully (plan only)
2025-11-18 14:55:58 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 14:55:58 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 14:55:58 - app.pipeline - INFO -   - toc.json
2025-11-18 14:55:58 - app.pipeline - INFO -   - chunks.json
2025-11-18 14:55:58 - app.pipeline - INFO -   - summary.txt
2025-11-18 14:55:58 - app.pipeline - INFO -   - summary.json
2025-11-18 14:55:58 - app.pipeline - INFO -   - plan.txt
2025-11-18 15:00:04 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:00:04 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:00:04 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:00:04 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:00:04 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:00:04 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:00:04 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:00:04 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:00:04 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:00:04 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:00:04 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:00:04 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:00:04 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:00:04 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:00:04 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:00:04 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:00:04 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:00:04 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:00:04 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:00:04 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:00:04 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:00:04 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:00:10 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:00:30 - app.summarizer - INFO - LLM call succeeded (attempt 1, 25.96s)
2025-11-18 15:00:30 - app.pipeline - INFO - ✓ Generated summary (2316 characters)
2025-11-18 15:00:30 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 4 assessment items
2025-11-18 15:00:30 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:00:30 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:00:30 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:00:30 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:00:30 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:00:30 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:00:30 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:00:30 - app.pipeline - INFO -   - toc.json
2025-11-18 15:00:30 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:00:30 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:01:31 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:01:31 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:01:31 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:01:31 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:01:31 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:01:31 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:01:31 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:01:31 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:01:31 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:01:31 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:01:31 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:01:31 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:01:31 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:01:31 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:01:31 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:01:31 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:01:31 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:01:31 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:01:31 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:01:31 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:01:31 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:01:31 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:01:35 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:01:55 - app.summarizer - INFO - LLM call succeeded (attempt 1, 24.31s)
2025-11-18 15:01:55 - app.pipeline - INFO - ✓ Generated summary (2061 characters)
2025-11-18 15:01:55 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 3 problems, 3 history items, 2 medicines/allergies, 2 findings, 1 labs/imaging, 8 assessment items
2025-11-18 15:01:55 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:01:55 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:01:55 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:01:55 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:01:55 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:01:55 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:01:55 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:01:55 - app.pipeline - INFO -   - toc.json
2025-11-18 15:01:55 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:01:55 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:02:55 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:02:55 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:02:55 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:02:55 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:02:55 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:02:55 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:02:55 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:02:55 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:02:55 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:02:55 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:02:55 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:02:55 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:02:55 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:02:55 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:02:55 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:02:55 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:02:55 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:02:55 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:02:55 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:02:55 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:02:55 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:02:55 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:02:57 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:03:18 - app.summarizer - INFO - LLM call succeeded (attempt 1, 22.93s)
2025-11-18 15:03:18 - app.pipeline - INFO - ✓ Generated summary (2094 characters)
2025-11-18 15:03:18 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 3 problems, 3 history items, 4 medicines/allergies, 2 findings, 1 labs/imaging, 8 assessment items
2025-11-18 15:03:18 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:03:18 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:03:18 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:03:18 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:03:18 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:03:18 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:03:18 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:03:18 - app.pipeline - INFO -   - toc.json
2025-11-18 15:03:18 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:03:18 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:04:15 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:04:15 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:04:15 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:04:15 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:04:15 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:04:15 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:04:15 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:04:15 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:04:15 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:04:15 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:04:15 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:04:15 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:04:15 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:04:15 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:04:15 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:04:15 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:04:15 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:04:15 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:04:15 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:04:15 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:04:15 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:04:15 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:04:19 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:04:39 - app.summarizer - INFO - LLM call succeeded (attempt 1, 23.98s)
2025-11-18 15:04:39 - app.pipeline - INFO - ✓ Generated summary (2187 characters)
2025-11-18 15:04:39 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 1 assessment items
2025-11-18 15:04:39 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:04:39 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:04:39 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:04:39 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:04:39 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:04:39 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:04:39 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:04:39 - app.pipeline - INFO -   - toc.json
2025-11-18 15:04:39 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:04:39 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:07:42 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:07:42 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:07:42 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:07:42 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:07:42 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:07:42 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:07:42 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:07:42 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:07:42 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:07:42 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:07:42 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:07:42 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:07:42 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:07:42 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:07:42 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:07:42 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:07:42 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:07:42 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:07:42 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:07:42 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:07:42 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:07:42 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:07:50 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:08:09 - app.summarizer - INFO - LLM call succeeded (attempt 1, 27.26s)
2025-11-18 15:08:09 - app.pipeline - INFO - ✓ Generated summary (2102 characters)
2025-11-18 15:08:09 - app.pipeline - INFO - ✓ Parsed structured summary with 0 patient snapshot items, 0 problems, 0 history items, 0 medicines/allergies, 0 findings, 0 labs/imaging, 1 assessment items
2025-11-18 15:08:09 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:08:09 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:08:09 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:08:09 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:08:09 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:08:09 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:08:09 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:08:09 - app.pipeline - INFO -   - toc.json
2025-11-18 15:08:09 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:08:09 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:09:58 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:09:58 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:09:58 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:09:58 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:09:58 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:09:58 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:09:58 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:09:58 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:09:58 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:09:58 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:09:58 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:09:58 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:09:58 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:09:58 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:09:58 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:09:58 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:09:58 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:09:58 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:09:58 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:09:58 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:09:58 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:09:58 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:10:10 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:10:26 - app.summarizer - INFO - LLM call succeeded (attempt 1, 28.35s)
2025-11-18 15:10:26 - app.pipeline - INFO - ✓ Generated summary (1839 characters)
2025-11-18 15:10:26 - app.pipeline - INFO - ✓ Parsed structured summary with 0 patient snapshot items, 0 problems, 0 history items, 0 medicines/allergies, 0 findings, 0 labs/imaging, 0 assessment items
2025-11-18 15:10:26 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:10:26 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:10:26 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:10:26 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:10:26 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:10:26 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:10:26 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:10:26 - app.pipeline - INFO -   - toc.json
2025-11-18 15:10:26 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:10:26 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:11:40 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:11:40 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:11:40 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:11:40 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:11:40 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=True, plan_only=False, no_evaluation=False
2025-11-18 15:11:40 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:11:40 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:11:40 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:11:40 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:11:40 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:11:40 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:11:40 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:11:40 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:11:40 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:11:40 - app.pipeline - INFO - [STEP 2/4] Skipped (using existing ToC)
2025-11-18 15:11:40 - app.pipeline - INFO - [STEP 3/4] Skipped (using existing chunks)
2025-11-18 15:11:40 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:11:40 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:11:40 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:11:40 - app.pipeline - INFO - [STEP 4/4] Generating summary...
2025-11-18 15:11:40 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:11:40 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:11:44 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:12:02 - app.summarizer - INFO - LLM call succeeded (attempt 1, 22.62s)
2025-11-18 15:12:02 - app.pipeline - INFO - ✓ Generated summary (2015 characters)
2025-11-18 15:12:02 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 2 assessment items
2025-11-18 15:12:02 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:12:02 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:12:02 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:12:02 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:12:02 - app.pipeline - INFO - 
✓ Pipeline completed successfully (summary only)
2025-11-18 15:12:02 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:12:02 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:12:02 - app.pipeline - INFO -   - toc.json
2025-11-18 15:12:02 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:12:02 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:13:02 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:13:02 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:13:02 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:13:02 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:13:02 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=True, no_evaluation=False
2025-11-18 15:13:02 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:13:02 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:13:02 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:13:02 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:13:02 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:13:02 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:13:02 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:13:02 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:13:02 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:13:02 - app.pipeline - INFO - [STEP 2/5] Skipped (using existing ToC)
2025-11-18 15:13:02 - app.pipeline - INFO - [STEP 3/5] Skipped (using existing chunks)
2025-11-18 15:13:02 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:13:02 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:13:02 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:13:02 - app.pipeline - INFO - [STEP 4/5] Generating summary...
2025-11-18 15:13:02 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:13:02 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:13:03 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:13:35 - app.summarizer - INFO - LLM call succeeded (attempt 1, 32.32s)
2025-11-18 15:13:35 - app.pipeline - INFO - ✓ Generated summary (1889 characters)
2025-11-18 15:13:35 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 1 assessment items
2025-11-18 15:13:35 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:13:35 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:13:35 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:13:35 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:13:35 - app.pipeline - INFO - [STEP 5/5] Generating treatment plan...
2025-11-18 15:13:35 - app.pipeline - INFO -   Using text summary (1889 characters)...
2025-11-18 15:13:35 - app.planner - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:13:42 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:14:14 - app.planner - INFO - LLM call succeeded (attempt 1, 38.98s)
2025-11-18 15:14:14 - app.pipeline - INFO - ✓ Generated plan (1901 characters)
2025-11-18 15:14:14 - app.planner - INFO - Saved treatment plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:14:14 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:14:14 - app.pipeline - INFO - 
✓ Pipeline completed successfully (plan only)
2025-11-18 15:14:14 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:14:14 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:14:14 - app.pipeline - INFO -   - toc.json
2025-11-18 15:14:14 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:14:14 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:14:14 - app.pipeline - INFO -   - summary.json
2025-11-18 15:14:14 - app.pipeline - INFO -   - plan.txt
2025-11-18 15:16:21 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:16:21 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:16:21 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:16:21 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:16:21 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=True, no_evaluation=False
2025-11-18 15:16:21 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:16:21 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:16:21 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:16:21 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:16:21 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:16:21 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:16:21 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:16:21 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:16:21 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:16:21 - app.pipeline - INFO - [STEP 2/5] Skipped (using existing ToC)
2025-11-18 15:16:21 - app.pipeline - INFO - [STEP 3/5] Skipped (using existing chunks)
2025-11-18 15:16:21 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:16:21 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:16:21 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:16:21 - app.pipeline - INFO - [STEP 4/5] Generating summary...
2025-11-18 15:16:21 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:16:21 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:16:30 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:16:55 - app.summarizer - INFO - LLM call succeeded (attempt 1, 33.95s)
2025-11-18 15:16:55 - app.pipeline - INFO - ✓ Generated summary (2008 characters)
2025-11-18 15:16:55 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 2 assessment items
2025-11-18 15:16:55 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:16:55 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:16:55 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:16:55 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:16:55 - app.pipeline - INFO - [STEP 5/5] Generating treatment plan...
2025-11-18 15:16:55 - app.pipeline - INFO -   Using text summary (2008 characters)...
2025-11-18 15:16:55 - app.planner - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:17:02 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:17:23 - app.planner - INFO - LLM call succeeded (attempt 1, 27.73s)
2025-11-18 15:17:23 - app.pipeline - INFO - ✓ Generated plan (1709 characters)
2025-11-18 15:17:23 - app.planner - INFO - Saved treatment plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:17:23 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:17:23 - app.pipeline - INFO - 
✓ Pipeline completed successfully (plan only)
2025-11-18 15:17:23 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:17:23 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:17:23 - app.pipeline - INFO -   - toc.json
2025-11-18 15:17:23 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:17:23 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:17:23 - app.pipeline - INFO -   - summary.json
2025-11-18 15:17:23 - app.pipeline - INFO -   - plan.txt
2025-11-18 15:24:19 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-18 15:24:19 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-18 15:24:19 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:24:19 - app.pipeline - INFO - Configuration: model=llama3, temperature=0.1
2025-11-18 15:24:19 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=True, no_evaluation=False
2025-11-18 15:24:19 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-18 15:24:19 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:24:19 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-18 15:24:19 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-18 15:24:19 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-18 15:24:19 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-18 15:24:19 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:24:19 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-18 15:24:19 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-18 15:24:19 - app.pipeline - INFO - [STEP 2/5] Skipped (using existing ToC)
2025-11-18 15:24:19 - app.pipeline - INFO - [STEP 3/5] Skipped (using existing chunks)
2025-11-18 15:24:19 - app.pipeline - INFO - Initializing LLM client...
2025-11-18 15:24:19 - app.llm - INFO - Initialized LLM client with model: llama3, temperature: 0.1
2025-11-18 15:24:19 - app.pipeline - INFO - ✓ LLM client initialized (model: llama3)
2025-11-18 15:24:19 - app.pipeline - INFO - [STEP 4/5] Generating summary...
2025-11-18 15:24:19 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-18 15:24:19 - app.summarizer - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:24:28 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:24:43 - app.summarizer - INFO - LLM call succeeded (attempt 1, 24.30s)
2025-11-18 15:24:43 - app.pipeline - INFO - ✓ Generated summary (1897 characters)
2025-11-18 15:24:43 - app.pipeline - INFO - ✓ Parsed structured summary with 1 patient snapshot items, 1 problems, 1 history items, 1 medicines/allergies, 1 findings, 1 labs/imaging, 1 assessment items
2025-11-18 15:24:43 - app.summarizer - INFO - Saved text summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:24:43 - app.pipeline - INFO - ✓ Saved text summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.txt
2025-11-18 15:24:43 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:24:43 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-18 15:24:43 - app.pipeline - INFO - [STEP 5/5] Generating treatment plan...
2025-11-18 15:24:43 - app.pipeline - INFO -   Using text summary (1897 characters)...
2025-11-18 15:24:43 - app.planner - INFO - Calling LLM (model: llama3, temperature: 0.1)
2025-11-18 15:24:49 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-18 15:24:58 - app.planner - INFO - LLM call succeeded (attempt 1, 14.39s)
2025-11-18 15:24:58 - app.pipeline - INFO - ✓ Generated plan (999 characters)
2025-11-18 15:24:58 - app.planner - INFO - Saved treatment plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:24:58 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.txt
2025-11-18 15:24:58 - app.pipeline - INFO - 
✓ Pipeline completed successfully (plan only)
2025-11-18 15:24:58 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-18 15:24:58 - app.pipeline - INFO -   - canonical_text.txt
2025-11-18 15:24:58 - app.pipeline - INFO -   - toc.json
2025-11-18 15:24:58 - app.pipeline - INFO -   - chunks.json
2025-11-18 15:24:58 - app.pipeline - INFO -   - summary.txt
2025-11-18 15:24:58 - app.pipeline - INFO -   - summary.json
2025-11-18 15:24:58 - app.pipeline - INFO -   - plan.txt
2025-11-19 17:44:24 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=DEBUG
2025-11-19 17:44:24 - app.pipeline - INFO - ✓ Ollama is available
2025-11-19 17:44:24 - app.pipeline - INFO - Processing document: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-19 17:44:24 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-19 17:44:24 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-19 17:44:24 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-19 20:46:28 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=DEBUG
2025-11-19 20:46:28 - app.pipeline - INFO - Processing document: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-19 20:46:28 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-19 20:46:28 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-19 20:46:28 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-19 20:46:28 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-19 20:46:28 - app.chunks - INFO - Loaded 7 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/0/chunks.json
2025-11-19 20:46:28 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded 7 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/0/chunks.json
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-19 20:46:28 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-19 20:46:28 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-19 20:46:28 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-19 20:46:28 - app.ingestion - INFO - Loaded canonical note: 1501 characters, 1 pages
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/0/canonical_text.txt
2025-11-19 20:46:28 - app.sections - INFO - Loaded 7 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/0/toc.json
2025-11-19 20:46:28 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded 7 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/0/toc.json
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-19 20:46:28 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-19 20:46:28 - app.pipeline - INFO - Initializing LLM client...
2025-11-19 20:46:28 - app.pipeline - INFO - Initializing LLM client...
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Ollama is available
2025-11-19 20:46:28 - app.pipeline - INFO - ✓ Ollama is available
2025-11-20 17:18:41 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-20 17:18:41 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-20 17:18:41 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:18:41 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-20 17:18:41 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-20 17:18:41 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-20 17:18:41 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:18:41 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:18:41 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-20 17:18:41 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-20 17:18:41 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-20 17:18:41 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:18:41 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:18:41 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-20 17:18:41 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-20 17:18:41 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-20 17:18:41 - app.pipeline - INFO - Initializing LLM client...
2025-11-20 17:18:41 - app.llm - INFO - Initialized LLM client with model: qwen2.5:7b, temperature: 0.1
2025-11-20 17:18:41 - app.pipeline - INFO - ✓ LLM client initialized (model: qwen2.5:7b)
2025-11-20 17:18:41 - app.pipeline - INFO - [STEP 4/6] Generating summary...
2025-11-20 17:18:41 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-20 17:18:41 - app.summarizer - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:18:55 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:19:32 - app.summarizer - INFO - LLM call succeeded (attempt 1, 50.72s)
2025-11-20 17:19:32 - app.pipeline - INFO - ✓ Generated structured summary with 1 patient snapshot items, 2 problems, 2 history items, 8 medicines/allergies, 7 findings, 1 labs/imaging, 3 assessment items
2025-11-20 17:19:32 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:19:32 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:19:32 - app.pipeline - INFO - [STEP 5/6] Generating treatment plan...
2025-11-20 17:19:32 - app.pipeline - INFO -   Using structured summary (1932 characters)...
2025-11-20 17:19:32 - app.planner - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:19:41 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:19:48 - app.planner - INFO - LLM call succeeded (attempt 1, 16.49s)
2025-11-20 17:19:48 - app.pipeline - INFO - ✓ Generated structured plan with 2 prioritized recommendations
2025-11-20 17:19:48 - app.planner - INFO - Saved structured plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:19:48 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:19:48 - app.pipeline - INFO - [STEP 6/6] Evaluating results...
2025-11-20 17:19:48 - app.pipeline - ERROR - ✗ Error: too many values to unpack (expected 3)
Traceback (most recent call last):
  File "/Users/davidavinci/Documents/GitHub/clinicalnoteparser/src/app/pipeline.py", line 463, in run_pipeline
    evaluation = evaluate_summary_and_plan(structured_summary, structured_plan, canonical_note, chunks)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/davidavinci/Documents/GitHub/clinicalnoteparser/src/app/evaluation.py", line 636, in evaluate_summary_and_plan
    chunk_id, start_char, end_char = citation_info
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 3)
2025-11-20 17:20:06 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-20 17:20:06 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-20 17:20:06 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:20:06 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-20 17:20:06 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-20 17:20:06 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-20 17:20:06 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:20:06 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:20:06 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-20 17:20:06 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-20 17:20:06 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-20 17:20:06 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:20:06 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:20:06 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-20 17:20:06 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-20 17:20:06 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-20 17:20:06 - app.pipeline - INFO - Initializing LLM client...
2025-11-20 17:20:06 - app.llm - INFO - Initialized LLM client with model: qwen2.5:7b, temperature: 0.1
2025-11-20 17:20:06 - app.pipeline - INFO - ✓ LLM client initialized (model: qwen2.5:7b)
2025-11-20 17:20:06 - app.pipeline - INFO - [STEP 4/6] Generating summary...
2025-11-20 17:20:06 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-20 17:20:06 - app.summarizer - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:20:14 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:20:51 - app.summarizer - INFO - LLM call succeeded (attempt 1, 44.82s)
2025-11-20 17:20:51 - app.pipeline - INFO - ✓ Generated structured summary with 1 patient snapshot items, 2 problems, 2 history items, 8 medicines/allergies, 7 findings, 1 labs/imaging, 2 assessment items
2025-11-20 17:20:51 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:20:51 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:20:51 - app.pipeline - INFO - [STEP 5/6] Generating treatment plan...
2025-11-20 17:20:51 - app.pipeline - INFO -   Using structured summary (1840 characters)...
2025-11-20 17:20:51 - app.planner - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:21:00 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:21:05 - app.planner - INFO - LLM call succeeded (attempt 1, 14.35s)
2025-11-20 17:21:05 - app.pipeline - INFO - ✓ Generated structured plan with 1 prioritized recommendations
2025-11-20 17:21:05 - app.planner - INFO - Saved structured plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:21:05 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:21:05 - app.pipeline - INFO - [STEP 6/6] Evaluating results...
2025-11-20 17:21:05 - app.evaluation - INFO - Saved evaluation report to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:21:05 - app.pipeline - INFO - ✓ Saved evaluation to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:21:05 - app.pipeline - INFO - 
[EVALUATION METRICS]
2025-11-20 17:21:05 - app.pipeline - INFO - Citation Coverage:
2025-11-20 17:21:05 - app.pipeline - INFO -   Summary: 100.0% (23/23)
2025-11-20 17:21:05 - app.pipeline - INFO -   Plan: 100.0% (1/1)
2025-11-20 17:21:05 - app.pipeline - INFO -   Overall: 100.0%
2025-11-20 17:21:05 - app.pipeline - INFO - 
Citation Validity: 0.0% (0/24)
2025-11-20 17:21:05 - app.pipeline - INFO - 
Hallucination Rate: 0.0% (0/24 orphan claims)
2025-11-20 17:21:05 - app.pipeline - INFO - 
Citation Overlap Jaccard: 0.1812 (avg, 276 pairs, range: 0.0000-1.0000)
2025-11-20 17:21:05 - app.pipeline - INFO - 
Span Consistency: 100.0% (24/24)
2025-11-20 17:21:05 - app.pipeline - INFO - 
Summary Statistics:
2025-11-20 17:21:05 - app.pipeline - INFO -   Total facts: 23
2025-11-20 17:21:05 - app.pipeline - INFO -   Total recommendations: 1
2025-11-20 17:21:05 - app.pipeline - INFO -   Average confidence: 0.90
2025-11-20 17:21:05 - app.pipeline - INFO - 
✓ Pipeline completed successfully!
2025-11-20 17:21:05 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:21:05 - app.pipeline - INFO -   - canonical_text.txt
2025-11-20 17:21:05 - app.pipeline - INFO -   - toc.json
2025-11-20 17:21:05 - app.pipeline - INFO -   - chunks.json
2025-11-20 17:21:05 - app.pipeline - INFO -   - summary.json
2025-11-20 17:21:05 - app.pipeline - INFO -   - plan.json
2025-11-20 17:21:05 - app.pipeline - INFO -   - evaluation.json
2025-11-20 17:21:05 - app.pipeline - INFO -   - pipeline.log
2025-11-20 17:22:21 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-20 17:22:21 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-20 17:22:21 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:22:21 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-20 17:22:21 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-20 17:22:21 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-20 17:22:21 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:22:21 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:22:21 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-20 17:22:21 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-20 17:22:21 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-20 17:22:21 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:22:21 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:22:21 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-20 17:22:21 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-20 17:22:21 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-20 17:22:21 - app.pipeline - INFO - Initializing LLM client...
2025-11-20 17:22:21 - app.llm - INFO - Initialized LLM client with model: qwen2.5:7b, temperature: 0.1
2025-11-20 17:22:21 - app.pipeline - INFO - ✓ LLM client initialized (model: qwen2.5:7b)
2025-11-20 17:22:21 - app.pipeline - INFO - [STEP 4/6] Generating summary...
2025-11-20 17:22:21 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-20 17:22:21 - app.summarizer - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:22:30 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:23:06 - app.summarizer - INFO - LLM call succeeded (attempt 1, 45.43s)
2025-11-20 17:23:06 - app.pipeline - INFO - ✓ Generated structured summary with 1 patient snapshot items, 2 problems, 2 history items, 8 medicines/allergies, 7 findings, 1 labs/imaging, 2 assessment items
2025-11-20 17:23:06 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:23:06 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:23:06 - app.pipeline - INFO - [STEP 5/6] Generating treatment plan...
2025-11-20 17:23:06 - app.pipeline - INFO -   Using structured summary (1840 characters)...
2025-11-20 17:23:06 - app.planner - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:23:15 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:23:19 - app.planner - INFO - LLM call succeeded (attempt 1, 13.25s)
2025-11-20 17:23:19 - app.pipeline - INFO - ✓ Generated structured plan with 1 prioritized recommendations
2025-11-20 17:23:19 - app.planner - INFO - Saved structured plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:23:19 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:23:19 - app.pipeline - INFO - [STEP 6/6] Evaluating results...
2025-11-20 17:23:19 - app.evaluation - INFO - Saved evaluation report to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:23:19 - app.pipeline - INFO - ✓ Saved evaluation to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:23:19 - app.pipeline - INFO - 
[EVALUATION METRICS]
2025-11-20 17:23:19 - app.pipeline - INFO - Citation Coverage:
2025-11-20 17:23:19 - app.pipeline - INFO -   Summary: 100.0% (23/23)
2025-11-20 17:23:19 - app.pipeline - INFO -   Plan: 100.0% (1/1)
2025-11-20 17:23:19 - app.pipeline - INFO -   Overall: 100.0%
2025-11-20 17:23:19 - app.pipeline - INFO - 
Citation Validity: 100.0% (24/24)
2025-11-20 17:23:19 - app.pipeline - INFO - 
Hallucination Rate: 0.0% (0/24 orphan claims)
2025-11-20 17:23:19 - app.pipeline - INFO - 
Citation Overlap Jaccard: 0.1812 (avg, 276 pairs, range: 0.0000-1.0000)
2025-11-20 17:23:19 - app.pipeline - INFO - 
Span Consistency: 100.0% (24/24)
2025-11-20 17:23:19 - app.pipeline - INFO - 
Summary Statistics:
2025-11-20 17:23:19 - app.pipeline - INFO -   Total facts: 23
2025-11-20 17:23:19 - app.pipeline - INFO -   Total recommendations: 1
2025-11-20 17:23:19 - app.pipeline - INFO -   Average confidence: 0.90
2025-11-20 17:23:19 - app.pipeline - INFO - 
✓ Pipeline completed successfully!
2025-11-20 17:23:19 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:23:19 - app.pipeline - INFO -   - canonical_text.txt
2025-11-20 17:23:19 - app.pipeline - INFO -   - toc.json
2025-11-20 17:23:19 - app.pipeline - INFO -   - chunks.json
2025-11-20 17:23:19 - app.pipeline - INFO -   - summary.json
2025-11-20 17:23:19 - app.pipeline - INFO -   - plan.json
2025-11-20 17:23:19 - app.pipeline - INFO -   - evaluation.json
2025-11-20 17:23:19 - app.pipeline - INFO -   - pipeline.log
2025-11-20 17:37:20 - app.pipeline - INFO - Logging configured: file=/Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/pipeline.log, level=INFO
2025-11-20 17:37:20 - app.pipeline - INFO - Processing document: data/archive/mtsamples_pdf/mtsamples_pdf/2.pdf
2025-11-20 17:37:20 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:37:20 - app.pipeline - INFO - Configuration: model=qwen2.5:7b, temperature=0.1
2025-11-20 17:37:20 - app.pipeline - INFO - Execution mode: toc_only=False, summary_only=False, plan_only=False, no_evaluation=False
2025-11-20 17:37:20 - app.pipeline - INFO - Found existing chunks.json - attempting to load...
2025-11-20 17:37:20 - app.chunks - INFO - Loaded 12 chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:37:20 - app.pipeline - INFO - ✓ Loaded 12 existing chunks from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/chunks.json
2025-11-20 17:37:20 - app.pipeline - INFO - Skipping ingestion and chunking steps (using cached chunks)
2025-11-20 17:37:20 - app.ingestion - INFO - Loaded canonical note: 2922 characters, 1 pages
2025-11-20 17:37:20 - app.pipeline - INFO - ✓ Loaded canonical note from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/canonical_text.txt
2025-11-20 17:37:20 - app.sections - INFO - Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:37:20 - app.pipeline - INFO - ✓ Loaded 12 sections from /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/toc.json
2025-11-20 17:37:20 - app.pipeline - INFO - [STEP 1] Skipped (using existing chunks)
2025-11-20 17:37:20 - app.pipeline - INFO - [STEP 2/6] Skipped (using existing ToC)
2025-11-20 17:37:20 - app.pipeline - INFO - [STEP 3/6] Skipped (using existing chunks)
2025-11-20 17:37:20 - app.pipeline - INFO - Initializing LLM client...
2025-11-20 17:37:20 - app.llm - INFO - Initialized LLM client with model: qwen2.5:7b, temperature: 0.1
2025-11-20 17:37:20 - app.pipeline - INFO - ✓ LLM client initialized (model: qwen2.5:7b)
2025-11-20 17:37:20 - app.pipeline - INFO - [STEP 4/6] Generating summary...
2025-11-20 17:37:20 - app.pipeline - INFO -   Processing 12 chunks at once...
2025-11-20 17:37:20 - app.summarizer - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:37:35 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:38:10 - app.summarizer - INFO - LLM call succeeded (attempt 1, 49.79s)
2025-11-20 17:38:10 - app.pipeline - INFO - ✓ Generated structured summary with 1 patient snapshot items, 2 problems, 2 history items, 7 medicines/allergies, 7 findings, 1 labs/imaging, 2 assessment items
2025-11-20 17:38:10 - app.summarizer - INFO - Saved structured summary to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:38:10 - app.pipeline - INFO - ✓ Saved structured summary to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/summary.json
2025-11-20 17:38:10 - app.pipeline - INFO - [STEP 5/6] Generating treatment plan...
2025-11-20 17:38:10 - app.pipeline - INFO -   Using structured summary (1942 characters)...
2025-11-20 17:38:10 - app.planner - INFO - Calling LLM (model: qwen2.5:7b, temperature: 0.1)
2025-11-20 17:38:18 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 17:38:23 - app.planner - INFO - LLM call succeeded (attempt 1, 12.84s)
2025-11-20 17:38:23 - app.pipeline - INFO - ✓ Generated structured plan with 1 prioritized recommendations
2025-11-20 17:38:23 - app.planner - INFO - Saved structured plan to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:38:23 - app.pipeline - INFO - ✓ Saved plan to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/plan.json
2025-11-20 17:38:23 - app.pipeline - INFO - [STEP 6/6] Evaluating results...
2025-11-20 17:38:23 - app.evaluation - INFO - Evaluating semantic accuracy of plan recommendations using Ollama embeddings...
2025-11-20 17:38:34 - app.evaluation - INFO - Saved evaluation report to /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:38:34 - app.pipeline - INFO - ✓ Saved evaluation to: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2/evaluation.json
2025-11-20 17:38:34 - app.pipeline - INFO - 
[EVALUATION METRICS]
2025-11-20 17:38:34 - app.pipeline - INFO - Citation Coverage:
2025-11-20 17:38:34 - app.pipeline - INFO -   Summary: 100.0% (22/22)
2025-11-20 17:38:34 - app.pipeline - INFO -   Plan: 100.0% (1/1)
2025-11-20 17:38:34 - app.pipeline - INFO -   Overall: 100.0%
2025-11-20 17:38:34 - app.pipeline - INFO - 
Citation Validity: 100.0% (23/23)
2025-11-20 17:38:34 - app.pipeline - INFO - 
Hallucination Rate: 0.0% (0/23 orphan claims)
2025-11-20 17:38:34 - app.pipeline - INFO - 
Citation Overlap Jaccard: 0.2055 (avg, 253 pairs, range: 0.0000-1.0000)
2025-11-20 17:38:34 - app.pipeline - INFO - 
Span Consistency: 100.0% (23/23)
2025-11-20 17:38:34 - app.pipeline - INFO - 
Summary Statistics:
2025-11-20 17:38:34 - app.pipeline - INFO -   Total facts: 22
2025-11-20 17:38:34 - app.pipeline - INFO -   Total recommendations: 1
2025-11-20 17:38:34 - app.pipeline - INFO -   Average confidence: 0.90
2025-11-20 17:38:34 - app.pipeline - INFO - 
✓ Pipeline completed successfully!
2025-11-20 17:38:34 - app.pipeline - INFO - Output directory: /Users/davidavinci/Documents/GitHub/clinicalnoteparser/results/2
2025-11-20 17:38:34 - app.pipeline - INFO -   - canonical_text.txt
2025-11-20 17:38:34 - app.pipeline - INFO -   - toc.json
2025-11-20 17:38:34 - app.pipeline - INFO -   - chunks.json
2025-11-20 17:38:34 - app.pipeline - INFO -   - summary.json
2025-11-20 17:38:34 - app.pipeline - INFO -   - plan.json
2025-11-20 17:38:34 - app.pipeline - INFO -   - evaluation.json
2025-11-20 17:38:34 - app.pipeline - INFO -   - pipeline.log
